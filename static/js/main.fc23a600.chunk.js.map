{"version":3,"sources":["Components/Dialogs/Dialogs.module.css","API/API.js","Redux/authReducer.js","Components/Header/Header.js","Components/Navbar/Nav.js","Redux/dialogsReducer.js","Components/Dialogs/Dialogs.js","Components/Common/CommonFiles.js","Components/Common/Loading.js","Components/Dialogs/DialogsContainer.js","Redux/profileReducer.js","Components/Common/formControl.js","Components/Profile/ProfileInfo.js","Components/Common/NoUserPhoto.js","Components/Profile/ProfileContainer.js","Redux/appReducer.js","Components/Login/Login.js","Components/Common/helpers.js","Redux/userReducer.js","Components/Users/User.js","Components/Common/SwtichPages.js","Components/Users/UsersContainer.js","Components/Dialogs/Messages.js","Components/Dialogs/MessagesContainer.js","App.js","reportWebVitals.js","Redux/reduxStore.js","index.js","Components/Users/users.module.css","App.module.css","Components/Profile/Profile.module.css"],"names":["module","exports","instance","axios","create","baseURL","withCredentials","headers","authAPI","get","email","password","rememberMe","captcha","post","porfileAPI","userID","profile","put","userId","delete","usersAPI","page","count","dialogsAPI","message","body","SET_USER_DATA","DELETE_USER_DATA","setUserData","login","type","payload","getUserData","dispatch","a","response","data","resultCode","id","initialState","isAuth","capthaURL","authReducer","state","action","HeaderContainer","connect","auth","logOut","props","className","onClick","to","Nav","SET_LIST_OF_DIALOGS","SET_MESSAGES","startDialog","sendMessage","getMessages","reset","messages","listOfDialogs","dialogsReducer","list","Dialogs","length","styles","dialogsPage","map","dialog","dialogItem","dialogItemImg","src","photos","small","alt","dialogItemName","userName","Loading","DialogsContainer","this","getListOfDialogs","refreshDialogData","match","params","prevProps","prevState","snapshot","queryString","location","search","pm","React","Component","dialogs","SET_FOLLOW_STATUS","setFollowStatus","following","getProfileUserData","profileAPI","profileReducer","CreateField","component","name","placeholder","validate","Field","ProfileInfo","useState","editMode","setEditMode","style","large","avatarimg","ProfileDataEditForm","onSubmit","formData","updateProfileUserData","then","initialValues","isOwner","buttonsitem","buttons","unFollowUser","followUser","ProfileData","discription","fullname","fullName","informationItem","iname","ivalue","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","key","reduxForm","form","handleSubmit","error","Profile","authID","checkFollow","refreshProfileUserData","ProfileContainer","compose","getState","stopSubmit","_error","Promise","reject","SET_IS_INITIALIZE_APP","isInitialized","appReducer","LoginFormRedux","LoginContainer","logIn","filerMassivOfObjects","massiv","propName","searchingValue","newProp","item","SET_USERS","FOLLOW","UNFOLLOW","ADD_TO_FOLLOWING_LIST","REMOVE_FROM_FOLLOWING_LIST","SET_CURRENT_PAGE","addToFollowingList","removeFromFollowingList","users","pageSize","currentPage","totalCount","followingUsers","usersReducer","followed","filter","User","userdiv","avatar","photo","username","status","disabled","some","SwitchPages","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","currentPortion","setCurrentPortion","portionCount","leftlim","rightlim","p","onPageChanged","Users","UsersContainer","getUsers","setCurrentPage","exportUserContainer","items","follow","unFollow","lastMessage","back","senderId","messageName","senderName","messageBody","newmessage","sendform","sendinput","sendbutton","class","useEffect","App","initializeApp","exact","path","render","href","AppContainer","app","authResult","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","Store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.fc23a600.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsPage\":\"Dialogs_dialogsPage__2UoGu\",\"listOfDialogs\":\"Dialogs_listOfDialogs__2u3vd\",\"messages\":\"Dialogs_messages__2Kfyq\",\"dialogItem\":\"Dialogs_dialogItem__1Pfrt\",\"dialogItemImg\":\"Dialogs_dialogItemImg__2Ze_t\",\"dialogItemName\":\"Dialogs_dialogItemName__BAnLi\",\"newmessage\":\"Dialogs_newmessage__1jgut\",\"message\":\"Dialogs_message__Fan2n\",\"messageName\":\"Dialogs_messageName__73xmM\",\"messageBody\":\"Dialogs_messageBody__OBAnn\",\"back\":\"Dialogs_back__l_GBD\",\"sendform\":\"Dialogs_sendform__14Fsg\",\"sendinput\":\"Dialogs_sendinput__PSWZ7\",\"sendbutton\":\"Dialogs_sendbutton__3s73u\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {'API-KEY': 'b227e61c-7fce-4acc-ab37-96baa228101e'}\r\n});\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    logIn(email,password,rememberMe,captcha){\r\n        debugger;\r\n        return instance.post('auth/login',{email,password,rememberMe,captcha})\r\n    },\r\n    logOut(){\r\n        return instance.post('auth/logout')\r\n    }\r\n};\r\n\r\nexport const porfileAPI = {\r\n    getProfile(userID){\r\n        return instance.get(`profile/${userID}`);\r\n    },\r\n    updateProfile(profile){\r\n        return instance.put('/profile',profile)\r\n},\r\n    getFollowStatus(userId){\r\n        return instance.get(`/follow/${userId}`)\r\n    },\r\n    getFollow (userId){\r\n        return instance.post(`/follow/${userId}`)\r\n    },\r\n    getUnFollow (userId){\r\n        return instance.delete(`/follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers (page,count=10){\r\n        return instance.get(`/users?page=${page}&count=${count}`)\r\n    },\r\n    getFollow (userId){\r\n        return instance.post(`/follow/${userId}`)\r\n    },\r\n    getUnFollow (userId){\r\n        return instance.delete(`/follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const dialogsAPI = {\r\n    startDialog(userId) {\r\n        return instance.put(`dialogs/${userId}`)\r\n    },\r\n    getAllDialogs(){\r\n        return instance.get('dialogs')\r\n    },\r\n    getMessagesWith(userId){\r\n        return instance.get(`dialogs/${userId}/messages`)\r\n    },\r\n    sendMessage(userId,message){\r\n        return instance.post(`dialogs/${userId}/messages`,{body:message})\r\n    },\r\n    \r\n}","import {authAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\n// action creators\r\nconst SET_USER_DATA = 'AUTH/SET_USER_DATA';\r\nconst DELETE_USER_DATA = 'AUTH/DELETE_USER_DATA';\r\nconst setUserData = (email,login,userID) => ({type: SET_USER_DATA, payload:{email,login,userID}});\r\nconst deleteUserData = () => ({type: DELETE_USER_DATA});\r\n\r\n// REDUCER\r\nconst authReducer = (state = initialState, action) =>{\r\nswitch (action.type){\r\n    case SET_USER_DATA:{\r\n        return {...state,...action.payload, isAuth: true}\r\n    }\r\n    case DELETE_USER_DATA:{\r\n        return {...state,isAuth: false,\r\n            userID: null,\r\n            login: null,\r\n            email: null,\r\n            capthaURL: null}\r\n    }\r\n    default: return {...state}\r\n}\r\n};\r\n\r\n\r\n// Санки\r\nexport const getUserData = ()=> async (dispatch)=>{\r\n    const response = await authAPI.me();\r\n    if(response.data.resultCode===0){\r\n        const {email,login,id} = response.data.data;\r\n        dispatch(setUserData(email,login,id));\r\n    }\r\n}\r\nexport const logIn = (email,password,rememberMe,captcha) => async (dispatch) =>{\r\n    const response = await authAPI.logIn(email,password,rememberMe,captcha);\r\n    debugger;\r\n    if(response.data.resultCode===0){\r\n        dispatch(getUserData());\r\n    }\r\n    else {\r\n        if (response.data.resultCode === 10) {}\r\n        const message = response.data.messages.length >0 ?response.data.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('login',{_error:message}));\r\n    }\r\n};\r\nexport const logOut = () => async (dispatch) =>{\r\n    debugger;\r\n    const response = await authAPI.logOut();\r\n    if(response.data.resultCode===0){\r\ndispatch(deleteUserData());\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    userID: null,\r\n    login: null,\r\n    email: null,\r\n    capthaURL: null,\r\n};\r\nexport default authReducer;","import React from 'react'\r\nimport styles from './../../App.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {logOut} from \"../../Redux/authReducer\";\r\nimport 'materialize-css';\r\n\r\nconst imgurl = \"https://www.veeam.com/content/dam/veeam/global/veeam-graphics/veeam_logo_white-500.png.web.1280.1280.png?ck=1572622163865&ck=1572622163865\"\r\n\r\nconst Header = (props) => {\r\n    return <>\r\n        {/*<div className={styles.headerback}>\r\n\r\n        </div>\r\n        <div className={styles.header}>\r\n\r\n            <div className={styles.headerlogo}><img src={imgurl} alt=\"\"/></div>\r\n            <div className={styles.headerright}>\r\n                {\r\n                    props.isAuth ? <div>{props.login} - <span onClick={props.logOut}>log out</span></div>\r\n                        : <NavLink to=\"/login\">Log in</NavLink>\r\n                }\r\n            </div>\r\n\r\n        </div>*/}\r\n\r\n        <div className={\"navbar-fixed\"}>\r\n            <nav className={\"cyan lighten-3\"}>\r\n                <div className={\"container\"}>\r\n                    <div className={\"nav-wrapper\"}>\r\n                        <h5  className={\"left\"}>Social Network</h5>\r\n                        <ul className={\"right hide-on-med-and-down\"}>\r\n                            {\r\n                                props.isAuth ? <><li><span>{props.login}</span></li><li><div onClick={props.logOut}>log out</div></li></>\r\n                                //props.isAuth ? <><li><span>{props.login}</span></li><li><div onClick={()=>alert('sdsd')}>alert</div></li></>\r\n                                    : <li><NavLink to=\"/login\">Log in</NavLink></li>\r\n                            }\r\n                            {/*<li><a href=\"#\">Sass</a></li>\r\n                            <li><a href=\"#\">Components</a></li>*/}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nconst HeaderContainer = connect(mapStateToProps,{logOut})(Header);\r\nexport default  HeaderContainer;","import React from 'react'\r\nimport styles from './../../App.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const Nav = () =>{\r\n    /*return <div className={styles.nav}>\r\n        <div><NavLink to='/profile'>Profile</NavLink></div>\r\n        <div><NavLink to='/dialogs'>Dialogs</NavLink></div>\r\n        <div><NavLink to='/users'>Users</NavLink></div>\r\n        <div><NavLink to=''></NavLink></div>\r\n        <div><NavLink to=''></NavLink></div>\r\n\r\n    </div>*/\r\n    return <div className={\"sidebar\"}>\r\n        <ul>\r\n            <li><NavLink to='/profile'>Profile</NavLink></li>\r\n            <li><NavLink to='/users'>Users</NavLink></li>\r\n            <li><NavLink to='/dialogs'>Dialogs</NavLink></li>\r\n        </ul>\r\n    </div>\r\n}","import {reset} from 'redux-form';\r\n// action creators\r\nimport {dialogsAPI} from \"../API/API\";\r\n\r\nconst SET_LIST_OF_DIALOGS = 'DIALOGS/SET_LIST_OF_DIALOGS';\r\nconst SET_MESSAGES = 'DIALOGS/SET_MESSAGES';\r\n\r\nconst setListOfDialogs= (list)=> ({type:SET_LIST_OF_DIALOGS,list});\r\nconst setMessagesWith = (messages) => ({type: SET_MESSAGES,messages});\r\n\r\n\r\n\r\n// REDUCER\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_LIST_OF_DIALOGS: {\r\n            return {...state, listOfDialogs:action.list}\r\n        }\r\n        case SET_MESSAGES:{\r\n            return {...state, messages: action.messages}\r\n        }\r\n        default:\r\n            return {...state}\r\n    }\r\n};\r\n\r\n\r\nexport const getListOfDialogs = () => async (dispatch)=>{\r\n    let response = await dialogsAPI.getAllDialogs();\r\n    dispatch(setListOfDialogs(response.data));\r\n}\r\nexport const startDialog = (userId) => async (dispatch) =>{\r\n    debugger;\r\n    let response = await dialogsAPI.startDialog(userId);\r\n    debugger;\r\n}\r\nexport const sendMessage = (userId,message) =>async (dispatch)=> {\r\n    let response = await dialogsAPI.sendMessage(userId,message);\r\n    debugger;\r\n    dispatch(getMessages(userId));\r\n    dispatch(reset('newmessage'))\r\n}\r\nexport const getMessages = (userId) => async (dispatch) =>{\r\n    let response = await dialogsAPI.getMessagesWith(userId);\r\n    //debugger;\r\n    dispatch(setMessagesWith(response.data))\r\n}\r\n//no touch\r\nconst initialState = {\r\n    listOfDialogs: null\r\n};\r\nexport default dialogsReducer;","import React from 'react';\r\nimport styles from './Dialogs.module.css'\r\nimport {nullPhoto} from \"../Common/CommonFiles\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Dialogs = ({listOfDialogs}) => {\r\n    //debugger;\r\n    if (listOfDialogs.length == 0) {\r\n        return <div>0 dialogs, start chatting now!</div>\r\n    } else return <div className={styles.dialogsPage}>\r\n        <h5>Dialogs Page</h5>\r\n            {listOfDialogs.map(dialog => {\r\n                return <>\r\n\r\n                        <div key={dialog.id} className={styles.dialogItem}>\r\n                            <div className={styles.dialogItemImg}>\r\n                                <NavLink to={`/profile/${dialog.id}`}>\r\n                                <img src={dialog.photos.small ? dialog.photos.small : nullPhoto} alt=\"\"/>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className={styles.dialogItemName}>\r\n                                <NavLink to={`/dialogs/${dialog.id}`}>\r\n                                    <h5>{dialog.userName}</h5>\r\n                                </NavLink>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                </>\r\n            })}\r\n    </div>\r\n}","export const nullPhoto = 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png'","import React from 'react';\r\n\r\nexport const Loading = () =>{\r\n    return <>\r\n        Loading...\r\n    </>\r\n};\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getListOfDialogs, getMessages, sendMessage, startDialog} from \"../../Redux/dialogsReducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {Loading} from \"../Common/Loading\";\r\nimport * as queryString from \"query-string\";\r\n\r\n\r\n\r\nclass DialogsContainer extends React.Component{\r\n    componentDidMount() {\r\n        this.props.getListOfDialogs();\r\n        //this.props.sendMessage(14007,'test automatic message');\r\n        this.refreshDialogData();\r\n        let currentDialogID = this.props.match.params.userID;\r\n\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userID!=prevProps.match.params.userID) {\r\n            debugger;\r\n            this.refreshDialogData();\r\n        }\r\n    }\r\n    refreshDialogData(){\r\n        let params = queryString.parse(this.props.location.search);\r\n        if(params.pm){\r\n            this.props.getMessages(params.pm);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.listOfDialogs){\r\n            return <Loading/>\r\n\r\n        }\r\n        else return <div>\r\n            <Dialogs listOfDialogs={this.props.listOfDialogs}/>\r\n        </div>\r\n    }\r\n};\r\nlet mapStateToProps=(state)=>{\r\n    return {\r\n        listOfDialogs: state.dialogs.listOfDialogs,\r\n        messages: state.dialogs.messages\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{getListOfDialogs,getMessages,sendMessage,startDialog})(DialogsContainer);","\r\n// action creators\r\nimport {porfileAPI as profileAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'USERS/SET_IS_INITIALIZE_APP';\r\nconst SET_FOLLOW_STATUS = 'USERS/SET_FOLLOW_STATUS'\r\nconst setProfileUserData = (profile)=> ({type:SET_USER_DATA, profile});\r\nconst setFollowStatus = (following)=>({type:SET_FOLLOW_STATUS,following})\r\n\r\n\r\n\r\n// REDUCER\r\nconst profileReducer = (state= initialState , action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_FOLLOW_STATUS:{\r\n            return {...state, following:action.following}\r\n        }\r\n        default:\r\n            return {...state}\r\n    }\r\n};\r\nexport const followUser=()=>async (dispatch,getState) =>{\r\n    const userId = getState().profile.profile.userId;\r\n    let response= await profileAPI.getFollow(userId);\r\n    debugger;\r\n    dispatch(setFollowStatus(true));\r\n}\r\nexport const unFollowUser=()=>async (dispatch,getState) =>{\r\n    const userId = getState().profile.profile.userId;\r\n    debugger;\r\n    let response= await profileAPI.getUnFollow(userId);\r\n    debugger;\r\n    dispatch(setFollowStatus(false));\r\n}\r\nexport const getProfileUserData = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n\r\n    dispatch(setProfileUserData(response.data))\r\n};\r\nexport const checkFollow = (userId)=>async (dispatch) =>{\r\n    let response = await profileAPI.getFollowStatus(userId);\r\n    debugger;\r\n    dispatch(setFollowStatus(response.data))\r\n\r\n}\r\nexport const updateProfileUserData = (profile) => async (dispatch,getState) => {\r\n    const userId = getState().auth.userID;\r\n    let response = await profileAPI.updateProfile(profile);\r\n    debugger;\r\n    if (response.data.resultCode == 0){\r\n        dispatch(getProfileUserData(userId));\r\n        debugger;\r\n    }\r\n    else {\r\n        dispatch(stopSubmit('profileEdit',{_error: response.data.messages}))\r\n        return Promise.reject(response.data.messages)\r\n    }\r\n\r\n}\r\n\r\nconst initialState = {\r\n    profile: null,\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const CreateField = (component,name,placeholder,validate,props) =>(\r\n\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate}\r\n               {...props}/>\r\n\r\n);","import React, {useState} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {CreateField} from \"../Common/formControl\";\r\nimport style from './Profile.module.css';\r\nimport {noPhoto} from \"../Common/NoUserPhoto\";\r\n\r\nexport const ProfileInfo = (props) => {\r\n    debugger;\r\n    let [editMode, setEditMode] = useState(false);\r\n    let onSubmit = (formData) => {\r\n        debugger;\r\n        props.updateProfileUserData(formData).then(() => {\r\n            setEditMode(false);\r\n        })\r\n\r\n    }\r\n    return <>\r\n\r\n        <div className={style.profile}>\r\n            <div className=\"avatar\">\r\n                {!props.profile.photos.large ?\r\n                    <img className={\"z-depth-2 \"+style.avatarimg} src={noPhoto} alt=\"\"/>\r\n                    :\r\n                    <img className={\"z-depth-2 \"+style.avatarimg} src={props.profile.photos.large} alt=\"\"/>\r\n                }\r\n            </div>\r\n            {editMode ?\r\n                <ProfileDataEditForm profile={props.profile} setEditMode={setEditMode} onSubmit={onSubmit} initialValues={props.profile}/>\r\n                :\r\n                <ProfileData profile={props.profile} setEditMode={setEditMode} isOwner={props.isOwner} />\r\n            }\r\n\r\n            <div className={style.buttonsitem}>\r\n                {props.isOwner && editMode!=true &&<div className={style.buttonsitem}>\r\n                    <button className=\"waves-effect cyan lighten-1 btn\" onClick={()=> setEditMode(true)}>Edit Profile</button>\r\n                </div>}\r\n                {!props.isOwner &&\r\n                    <div className={style.buttons}>\r\n                        <NavLink className=\"waves-effect cyan lighten-2 btn\" to={`/dialogs/${props.userID}`}><i\r\n                            className=\"material-icons left\">mail</i>Send Message</NavLink>\r\n                    </div>\r\n                }\r\n                {!props.isOwner && <>\r\n                    {props.following ?\r\n                        <div className={style.buttonsitem}>\r\n                            <button onClick={() => props.unFollowUser()} className=\"waves-effect red lighten-3 btn\"><i\r\n                                className=\"material-icons left\">check</i>unfollow\r\n                            </button>\r\n                        </div>\r\n                        :\r\n                        <div className={style.buttonsitem}>\r\n                            <button onClick={() => props.followUser()} className=\"waves-effect cyan lighten-2 btn\"><i\r\n                                className=\"material-icons left\">check</i>follow\r\n                            </button>\r\n                        </div>\r\n                    }\r\n                </>}\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n    return <>\r\n\r\n        <div className={style.discription}>\r\n            <div className={style.fullname}>\r\n            <div><h2>{props.profile.fullName}</h2></div>\r\n            <div><p>Status</p></div>\r\n            </div>\r\n            <div className={style.informationItem}>\r\n                <div className={style.iname}><h5>About me</h5></div>\r\n                <div className={style.ivalue}><p>{props.profile.aboutMe}</p></div>\r\n            </div>\r\n            <div className={style.informationItem}>\r\n\r\n                <div className={style.iname}><h5>Looking for a job</h5></div>\r\n                {props.profile.lookingForAJob ?\r\n                    <div className={style.ivalue}><p>Yes</p></div>\r\n                :\r\n                    <div className={style.ivalue}><p>No</p></div>\r\n                }\r\n            </div>\r\n            {props.profile.lookingForAJob &&\r\n                <div className={style.informationItem}>\r\n                <div className={style.iname}><h5>work skills</h5></div>\r\n                <div className={style.ivalue}><p>{props.profile.lookingForAJobDescription}</p></div>\r\n                </div>\r\n            }\r\n            <div className={style.informationItem}>\r\n                <div className={style.iname}><h5></h5></div>\r\n                <div className={style.ivalue}><p></p></div>\r\n            </div>\r\n            <h4>Contacts:</h4>\r\n            <div className={style.informationItem}>\r\n                <div className={style.iname}><h5></h5></div>\r\n                <div className={style.ivalue}><p></p></div>\r\n            </div>\r\n            {\r\n                Object.keys(props.profile.contacts).map(key=>{\r\n                    if (!!props.profile.contacts[key]){\r\n                        return <div className={style.informationItem}>\r\n                            <div className={style.iname}><h5>{key}</h5></div>\r\n                            <div className={style.ivalue}><p>{props.profile.contacts[key]}</p></div>\r\n                        </div>\r\n                    }\r\n                })\r\n            }\r\n        </div>\r\n\r\n        </>\r\n}\r\n\r\nconst ProfileDataEdit = (props) => {\r\n    return <div className={style.discription}><form onSubmit={props.handleSubmit}>\r\n\r\n        {props.error && <div>error : {props.error}</div>}\r\n        <div><p>Full Name: </p>{CreateField('input','fullName','your full name')}</div>\r\n        <div>About me: {CreateField('input','aboutMe','about you')}</div>\r\n\r\n        <div className=\"switch\">\r\n            <label>\r\n                Need work?\r\n                {CreateField('input','lookingForAJob',null,[],{type:\"checkbox\"})}\r\n\r\n                    <span className=\"lever\"></span>\r\n                    Yes\r\n            </label>\r\n        </div>\r\n\r\n        <div>Your skills: {CreateField('input','lookingForAJobDescription','your work skills')}</div>\r\n        <b>Contacts:</b>\r\n\r\n        {\r\n            Object.keys(props.profile.contacts).map(key=>{\r\n                    return <div>\r\n                        {CreateField('input','contacts.'+key,key,)}\r\n                    </div>\r\n            })\r\n        }\r\n\r\n        <button className=\"waves-effect cyan lighten-1 btn\" >Save</button>\r\n        <button className=\"waves-effect red lighten-1 btn\" type='button' onClick={()=>{props.setEditMode(false)}}>Cancel</button>\r\n        </form>\r\n\r\n        </div>\r\n}\r\n\r\nconst ProfileDataEditForm = reduxForm({form:'profileEdit'})(ProfileDataEdit);","export const noPhoto = 'https://iruimbatam.com/img/no-user-image.jpg';\r\n","import React from 'react';\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    checkFollow,\r\n    followUser,\r\n    getProfileUserData,\r\n    unFollowUser,\r\n    updateProfileUserData\r\n} from \"../../Redux/profileReducer\";\r\nimport {ProfileInfo} from \"./ProfileInfo\";\r\nimport {Loading} from \"../Common/Loading\";\r\n\r\n\r\n\r\nclass Profile extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userID:null\r\n        }\r\n    }\r\n    refreshProfileUserData(){\r\n        //let userID;\r\n        //userID = this.props.match.params.userID;\r\n        this.state.userID = this.props.match.params.userID;\r\n        if (!this.state.userID){\r\n            this.state.userID = this.props.authID;\r\n        }\r\n        this.props.getProfileUserData(this.state.userID);\r\n        this.props.checkFollow(this.state.userID);\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfileUserData();\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userID!=prevProps.match.params.userID) {\r\n            debugger;\r\n            this.refreshProfileUserData();\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        if(!this.props.profile){\r\n            return <Loading/>\r\n        }\r\n        else return <div>\r\n            <ProfileInfo profile={this.props.profile} isOwner={this.state.userID==this.props.authID}\r\n            userID={this.state.userID} updateProfileUserData={this.props.updateProfileUserData} following={this.props.following}\r\n                         followUser={this.props.followUser} unFollowUser={this.props.unFollowUser}/>\r\n        </div>\r\n    }\r\n};\r\nconst mapStateToProps = (state) =>{\r\n\r\n    return {\r\n        authID:state.auth.userID,\r\n        profile: state.profile.profile,\r\n        following:state.profile.following\r\n    }\r\n}\r\n\r\nconst ProfileContainer = compose(connect(mapStateToProps,{getProfileUserData,updateProfileUserData,checkFollow,followUser,unFollowUser}))(Profile)\r\n\r\nexport default ProfileContainer;","import {getUserData} from \"./authReducer\";\r\n\r\n\r\n// action creators\r\nconst SET_IS_INITIALIZE_APP = 'APP/SET_IS_INITIALIZE_APP';\r\nconst setInitialized= ()=> ({type:SET_IS_INITIALIZE_APP})\r\n\r\n\r\n\r\n// REDUCER\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_IS_INITIALIZE_APP: {\r\n            return {...state, isInitialized: true}\r\n        }\r\n        default:\r\n            return {...state}\r\n    }\r\n};\r\n\r\n\r\n// инициализация приложения\r\nexport const initializeApp = ()=> (dispatch)=>{\r\n    const authResult = dispatch(getUserData());\r\n    Promise.all([authResult]); // разобратсья почему через async/await не робит\r\n    authResult.then(()=>{\r\n        dispatch(setInitialized());\r\n    });\r\n\r\n}\r\n\r\n\r\n//no touch\r\nconst initialState = {\r\n    isInitialized: false\r\n};\r\nexport default appReducer;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../Common/withAuthRedirect\";\r\nimport {logIn, logOut} from \"../../Redux/authReducer\";\r\n\r\n\r\nconst Login = (props) =>{\r\n    const onSubmit = (formData)=>{\r\n        const {email,password,rememberMe,captcha} = formData;\r\n        debugger;\r\n        props.logIn(email,password,rememberMe,captcha);\r\n    }\r\n    if(props.isAuth==true){\r\n        return <Redirect to='/profile'/>\r\n    }\r\n    else return <>\r\n        login s\r\n        <LoginFormRedux onSubmit={onSubmit}/>\r\n    </>\r\n};\r\nconst LoginForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div><Field placeholder='your email' type=\"text\" component='input' name='email'/></div>\r\n        <div><Field placeholder='your password' type=\"password\" component='input' name='password'/></div>\r\n        <div>Remember you?<Field placeholder='remember you/' type=\"checkbox\" component='input' name='rememberMe'/></div>\r\n        {props.error && <div>wrong e-mail/login</div>}\r\n        <button>Log in</button>\r\n\r\n    </form>\r\n}\r\nconst LoginFormRedux = reduxForm({form:'login'})(LoginForm)\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\nconst LoginContainer = compose(connect(mapStateToProps,{logIn}))(Login);\r\nexport default LoginContainer;","// функция для перебора массива объектов\r\nexport const filerMassivOfObjects = (massiv,propName,searchingValue,newProp)=>{\r\n    return massiv.map(item=>{\r\n        if(item[propName]==searchingValue) {\r\n            return {...item, ...newProp}\r\n        }\r\n        else return item\r\n    });\r\n};","import {usersAPI} from \"../API/API\";\r\nimport {filerMassivOfObjects} from \"../Components/Common/helpers\";\r\n\r\n\r\nconst SET_USERS = 'USERS/SET_USERS';\r\nconst FOLLOW = 'USERS/FOLLOW'\r\nconst UNFOLLOW = 'USERS/UNFOLLOW'\r\nconst ADD_TO_FOLLOWING_LIST = 'USERS/ADD_TO_FOLLOWING_LIST'\r\nconst REMOVE_FROM_FOLLOWING_LIST = 'USERS/REMOVE_FROM_FOLLOWING_LIST'\r\nconst SET_CURRENT_PAGE = 'USERS/SET_CURRENT_PAGE'\r\nconst follow = (userId)=>({type:FOLLOW,userId});\r\nconst unFollow = (userId)=>({type:UNFOLLOW,userId});\r\nconst setUsers = (users,totalCount) => ({type: SET_USERS, users,totalCount});\r\nconst addToFollowingList = (userId) => ({type: ADD_TO_FOLLOWING_LIST, userId})\r\nconst removeFromFollowingList = (userId) => ({type: REMOVE_FROM_FOLLOWING_LIST, userId})\r\nexport const setCurrentPage = (page) =>({type: SET_CURRENT_PAGE, page});\r\n\r\n\r\n\r\nconst usersReducer = (state = initialState,action) => {\r\n    switch (action.type) {\r\n        case SET_USERS: {\r\n            return {...state, users: action.users, totalCount:action.totalCount}\r\n        }\r\n        case SET_CURRENT_PAGE:{\r\n            return {...state,currentPage:action.page}\r\n        }\r\n        case FOLLOW:{\r\n            return {...state,\r\n                users: filerMassivOfObjects(state.users,\"id\",action.userId,{followed:true})\r\n            }\r\n        }\r\n        case UNFOLLOW:{\r\n            return {...state,\r\n                users: filerMassivOfObjects(state.users,\"id\",action.userId,{followed:false})\r\n            }\r\n        }\r\n        case ADD_TO_FOLLOWING_LIST:{\r\n            debugger;\r\n            return {...state,\r\n                followingUsers: [...state.followingUsers,action.userId]\r\n            }\r\n        }\r\n        case REMOVE_FROM_FOLLOWING_LIST:{\r\n            return {...state,\r\n                followingUsers: state.followingUsers.filter(id=>id!=action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\nexport const getUsers = (page, count) => async (dispatch) => {\r\n    let response = await usersAPI.getUsers(page, count);\r\n    debugger;\r\n    dispatch(setUsers(response.data.items,response.data.totalCount));\r\n}\r\nexport const followUser = (userId) => (dispatch) => {\r\n\r\n    dispatch(addToFollowingList(userId));\r\n\r\n    usersAPI.getFollow(userId).then(()=>{\r\n        debugger;\r\n        dispatch(removeFromFollowingList(userId));\r\n        dispatch(follow(userId));\r\n    })\r\n}\r\nexport const unFollowUser = (userId) => (dispatch) => {\r\n    dispatch(addToFollowingList(userId));\r\n    usersAPI.getUnFollow(userId).then(()=>{\r\n        debugger;\r\n        dispatch(removeFromFollowingList(userId));\r\n        dispatch(unFollow(userId));\r\n    })\r\n}\r\n/*export const setPage = (page) => async (dispatch) =>{\r\n    let response = await usersAPI.getUsers(page);\r\n    debugger\r\n    dispatch()\r\n}*/\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    currentPage: 1,\r\n    totalCount: null,\r\n    followingUsers: []\r\n}\r\nexport default usersReducer;","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './users.module.css'\r\n\r\nconst nullPhoto = 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png'\r\n\r\nexport const User = (props) => {\r\n    return <div className={style.userdiv} >\r\n        <div>\r\n            <div className={style.avatar}>\r\n                <NavLink to={`/profile/` + props.id}>\r\n                    <img src={props.photo ? props.photo : nullPhoto} alt=\"\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={style.username}>Name: {props.name}</div>\r\n        </div>\r\n\r\n        <div>s</div>\r\n        <div><i>status: {props.status}</i></div>\r\n        {props.followed ?\r\n            <button disabled={props.followingUsers.some(id=>id==props.id)} onClick={()=>props.unFollowUser(props.id)}>Unfollow</button>\r\n            :\r\n            <button disabled={props.followingUsers.some(id=>id==props.id)} onClick={()=>props.followUser(props.id)}>Follow</button>}\r\n\r\n        <hr/>\r\n    </div>\r\n}","import React, {useState} from 'react';\r\nimport styles from './switchpages.module.css'\r\n\r\nexport const SwitchPages = ({totalItemsCount,pageSize,currentPage,portionSize=10,...props}) =>{\r\n    const pagesCount = Math.ceil(totalItemsCount/pageSize);\r\n    const pages = [];\r\n    for(let i = 1 ; i <=pagesCount;i++){\r\n        pages.push(i);\r\n    };\r\n    let [currentPortion, setCurrentPortion] = useState(1);\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let leftlim = (currentPortion-1)*portionSize+1;\r\n    let rightlim = currentPortion*portionSize;\r\nreturn <span>\r\n    {leftlim >1 && <button onClick={()=>setCurrentPortion(1)}>{'<<<'}</button>}\r\n    {leftlim >1 && <button onClick={()=>setCurrentPortion(currentPortion-1)}>{'<'}</button>}\r\n    {\r\n        pages.filter(p=> p<= rightlim && p>= leftlim)\r\n            .map(p=>{\r\n                return <span onClick={()=>props.onPageChanged(p)}>\r\n\r\n                    {p==currentPage?<b>{p} </b> :p}{' '}\r\n                </span>\r\n            })\r\n    }\r\n    {currentPortion < portionCount && <button onClick={()=>{setCurrentPortion(currentPortion+1)}}>{'>'}</button>  }\r\n    {currentPortion < portionCount && <button onClick={()=>{setCurrentPortion(portionCount)}}>{'>>>'}</button>  }\r\n</span>\r\n\r\n}","import React from 'react';\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {followUser, getUsers, setCurrentPage, unFollowUser} from \"../../Redux/userReducer\";\r\nimport {Loading} from \"../Common/Loading\";\r\nimport {User} from \"./User\";\r\nimport {SwitchPages} from \"../Common/SwtichPages\";\r\n\r\nconst Users = (props) =>{\r\n    return <div>\r\n\r\n        {props.users.map(key => {\r\n            return <User name={key.name}\r\n            id={key.id} status={key.status}\r\n                         photo={key.photos.small}\r\n                         followed={key.followed}\r\n                         followUser={props.followUser}\r\n                         unFollowUser={props.unFollowUser}\r\n                         followingUsers={props.followingUsers}\r\n            />\r\n        })}\r\n    </div>\r\n}\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage,this.props.pageSize)\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.currentPage!=prevProps.currentPage){\r\n\r\n            this.props.getUsers(this.props.currentPage,this.props.pageSize)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.users) {\r\n            return <Loading/>\r\n        } else return <>\r\n            <SwitchPages totalItemsCount={this.props.totalCount} currentPage={this.props.currentPage}\r\n                         pageSize={this.props.pageSize} onPageChanged={this.props.setCurrentPage}/>\r\n            <Users users={this.props.users} unFollowUser={this.props.unFollowUser} followUser={this.props.followUser}\r\n                   followingUsers={this.props.followingUsers}/>\r\n        </>\r\n    }\r\n};\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        users: state.users.users,\r\n        totalCount: state.users.totalCount,\r\n        pageSize: state.users.pageSize,\r\n        currentPage: state.users.currentPage,\r\n        followingUsers: state.users.followingUsers\r\n    }\r\n}\r\nconst exportUserContainer = compose(connect(mapStateToProps,{getUsers,setCurrentPage,followUser,unFollowUser}))(UsersContainer);\r\n\r\nexport default exportUserContainer;\r\n\r\n","import React, {useState} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport styles from './Dialogs.module.css'\r\nconst Messages = (props) =>{\r\n    debugger;\r\n    //let [lastMessage,setLastMessage] = useState(null);\r\n    let lastMessage = null;\r\n    return <>\r\n        <NavLink to={'/dialogs'}><div className={styles.back+' valign-wrapper'}><i className=\"material-icons\">arrow_back</i></div></NavLink>\r\n        {props.messages.items.length== 0?\r\n            <div className={'center-align'}>your messages will be here</div>: <>\r\n\r\n        {\r\n            props.messages.items.map(item =>{\r\n                debugger;\r\n                if(item.senderId!=lastMessage){\r\n                    lastMessage = item.senderId;\r\n                    return <div key={item.id} className={styles.message}>\r\n                        <div className={styles.messageName}>{item.senderName}:</div> <span className={styles.messageBody}>{item.body}</span>\r\n                    </div>\r\n                }\r\n                else return <div key={item.id} className={styles.message}>\r\n                    <span className={styles.messageBody}>{item.body}</span>\r\n                </div>\r\n            })\r\n\r\n        }</>}\r\n        <div className={styles.newmessage}>\r\n            <form onSubmit={props.handleSubmit} className={styles.sendform}>\r\n            <div className={styles.sendinput}><Field name={'messageBody'} component='input' type='text'/></div>\r\n            <div className={styles.sendbutton}><button class=\"btn-small waves-effect cyan lighten-2\">\r\n                {/*<i className=\"material-icons right\">send</i>*/}\r\n                send\r\n            </button></div>\r\n            </form>\r\n        </div>\r\n        </>\r\n}\r\n\r\nexport default reduxForm({form:'newmessage'})(Messages)","import React, {useEffect, useState} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getMessages, sendMessage, startDialog} from \"../../Redux/dialogsReducer\";\r\nimport Messages from \"./Messages\";\r\nimport {Loading} from \"../Common/Loading\";\r\n\r\n\r\nconst MessagesContainer = (props) =>{\r\n\r\n    let [id,setId] = useState(props.match.params.userID);\r\n    useEffect(()=>{\r\n        props.getMessages(id);\r\n        //props.startDialog(id) так и не понял смысла апи\r\n    },[props.match.params.userID])\r\n    let sendMessage = (formData)=>{\r\n        debugger;\r\n        props.sendMessage(id,formData.messageBody);\r\n    }\r\n    if(!props.messages){\r\n        return <Loading/>\r\n    }\r\n    else return <Messages onSubmit={sendMessage} messages={props.messages}/>\r\n}\r\nlet mapStateToProps=(state)=>{\r\n    return {\r\n        messages: state.dialogs.messages\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{getMessages,sendMessage,startDialog})(MessagesContainer);","import React from 'react';\nimport './App.css';\nimport {connect} from \"react-redux\";\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport styles from './App.module.css'\nimport HeaderContainer from \"./Components/Header/Header\";\nimport {Nav} from \"./Components/Navbar/Nav\";\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\nimport {getUserData} from \"./Redux/authReducer\";\nimport {initializeApp} from \"./Redux/appReducer\";\nimport {Loading} from \"./Components/Common/Loading\";\nimport LoginContainer from \"./Components/Login/Login\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport MessagesContainer from \"./Components/Dialogs/MessagesContainer\";\n\nclass App extends React.Component {\n    componentDidMount(){\n        this.props.initializeApp();\n    }\n    render() {\n        if(!this.props.isInitialized){\n            return <Loading/>\n        }\n        else return (\n            <>\n                <BrowserRouter>\n                    <HeaderContainer/>\n                    {/*<div className={styles.AppWrapper}>\n\n                        <Nav/>\n                        <div className={styles.content}>\n                            <Switch>\n\n                                <Route exact path='/'><Redirect to='/profile'></Redirect></Route>\n                                <Route exact path='/dialogs' render={(props)=> <DialogsContainer {...props}/>}/>\n                                <Route path='/dialogs/:userID' render={(props)=> <MessagesContainer {...props}/>}/>\n                                <Route path='/users' render={()=> <UsersContainer/>}/>\n                                <Route path='/login' render={()=> <LoginContainer/>}/>\n                                <Route path='/profile/:userID?' render={(props)=> <ProfileContainer {...props}/>}/>\n                                <Route path='*' render={()=><div>404 NOT FOUND</div>}/>\n                            </Switch>\n                        </div>\n                    </div>*/}\n                    <div className={'appwrapper'}>\n                        <div className={\"container mycontainer\"}>\n                            <div className={\"app\"}>\n                                <Nav/>\n                                <div className={\"content\"}>\n                                    <Switch>\n\n                                        <Route exact path='/'><Redirect to='/profile'></Redirect></Route>\n                                        <Route exact path='/dialogs'\n                                               render={(props) => <DialogsContainer {...props}/>}/>\n                                        <Route path='/dialogs/:userID'\n                                               render={(props) => <MessagesContainer {...props}/>}/>\n                                        <Route path='/users' render={() => <UsersContainer/>}/>\n                                        <Route path='/login' render={() => <LoginContainer/>}/>\n                                        <Route path='/profile/:userID?'\n                                               render={(props) => <ProfileContainer {...props}/>}/>\n                                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                                    </Switch>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                    <footer className=\"page-footer cyan lighten-3\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col l6 s12\">\n                                    <h5 className=\"white-text\">Social Network</h5>\n                                    <p className=\"grey-text text-lighten-4\">Front by A.Usmanov, Back by IT-kamasutra</p>\n                                </div>\n                                <div className=\"col l4 offset-l2 s12\">\n                                    <h5 className=\"white-text\">Links</h5>\n                                    <ul>\n                                        <li><a className=\"grey-text text-lighten-3\"\n                                               href=\"https://github.com/anuritto/\">github</a></li>\n                                        <li><a className=\"grey-text text-lighten-3\"\n                                               href=\"https://social-network.samuraijs.com/\">API</a></li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n\n                    </footer>\n                </BrowserRouter>\n            </>\n        );\n    }\n};\nconst mapStateToProps = (state)=> {\n    return {\n        isInitialized: state.app.isInitialized,\n        isAuth: state.auth.isAuth\n    }\n\n};\nconst AppContainer = connect(mapStateToProps,{initializeApp,getUserData})(App);\n\nexport default AppContainer;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./userReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    profile: profileReducer,\r\n    app: appReducer,\r\n    users: usersReducer,\r\n    dialogs: dialogsReducer,\r\n    form: formReducer\r\n});\r\n// для расширения redux store в хроме\r\n//const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst Store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default Store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport Store from \"./Redux/reduxStore\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={Store}>\n          <App />\n      </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userdiv\":\"users_userdiv__2DNV5\",\"avatar\":\"users_avatar__2ef45\",\"username\":\"users_username__3XzyT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppWrapper\":\"App_AppWrapper__3LebR\",\"header\":\"App_header__3D6-x\",\"headerlogo\":\"App_headerlogo__1Wei2\",\"headerright\":\"App_headerright__3p1pC\",\"nav\":\"App_nav__2H88j\",\"content\":\"App_content__15G9n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1Dv3B\",\"avatar\":\"Profile_avatar__1aOkq\",\"avatarimg\":\"Profile_avatarimg__qpUSs\",\"fullname\":\"Profile_fullname__30ndC\",\"discription\":\"Profile_discription__hu8_u\",\"buttonsitem\":\"Profile_buttonsitem__L8k3_\",\"informationItem\":\"Profile_informationItem__2qL_N\",\"iname\":\"Profile_iname__1G0s0\",\"ivalue\":\"Profile_ivalue__2ny6i\"};"],"sourceRoot":""}